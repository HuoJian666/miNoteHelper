# 小米便签增强助手 (miNoteHelper)

一个专为小米便签网页版设计的浏览器扩展，提供便捷的增强功能，优化您的笔记管理体验。

## ✨ 主要功能

### 1. 文件夹管理
- **隐藏全部笔记**: 一键隐藏侧边栏的"全部笔记"和"我的文件夹"选项
- **隐藏未分类**: 快速隐藏"未分类"文件夹
- **自动打开指定文件夹**: 页面加载后自动打开"b-有用暂存"文件夹

### 2. 便捷操作
- **悬浮设置按钮**: 页面左下角的悬浮⚙️按钮，随时打开设置面板
- **设置持久化**: 所有设置自动保存到浏览器存储，下次访问自动应用

## 🚀 安装方法

### Chrome / Edge / 其他 Chromium 浏览器

1. 下载本项目代码到本地
2. 打开浏览器扩展管理页面：
   - Chrome: `chrome://extensions/`
   - Edge: `edge://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择本项目文件夹
6. 完成！扩展图标将出现在浏览器工具栏

## 📖 使用指南

### 首次使用

1. 安装扩展后，访问 [小米便签网页版](https://i.mi.com/note/h5)
2. 您会在页面左下角看到一个橙色的⚙️悬浮按钮
3. 点击按钮打开设置面板

### 设置面板说明

- **隐藏全部笔记**: 隐藏侧边栏的"全部笔记"和"我的文件夹"
- **隐藏未分类**: 隐藏"未分类"文件夹

### 应用设置

1. 在设置面板中调整您需要的选项
2. 点击底部"应用设置"按钮
3. 设置立即生效，并自动保存

## 🔧 故障排除

### 按钮没有显示？

尝试以下方法：

1. **刷新页面**: 按 F5 或 Ctrl+R 刷新小米便签页面
2. **检查扩展状态**: 确保扩展在扩展管理页面中已启用
3. **手动激活**: 
   - 点击浏览器工具栏的扩展图标
   - 点击"手动激活按钮"
4. **重启浏览器**: 完全关闭浏览器后重新打开
5. **重新加载扩展**: 
   - 在扩展管理页面找到本扩展
   - 点击"重新加载"按钮

### 设置没有保存？

- 检查浏览器是否允许扩展使用存储权限
- 尝试使用"应用设置"按钮再次保存
- 查看浏览器控制台（F12）是否有错误信息

## 📁 项目结构

```
miNoteHelper/
├── manifest.json       # 扩展配置文件
├── content.js          # 核心功能脚本
├── popup.html          # 扩展弹出页面
├── icon.svg            # 扩展图标
├── images/             # 图标资源文件夹
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md           # 说明文档
```

## 🛠️ 技术实现

- **Manifest V3**: 使用最新的浏览器扩展清单版本
- **Content Scripts**: 注入到小米便签页面实现功能增强
- **Chrome Storage API**: 持久化存储用户设置
- **原生 JavaScript**: 无依赖，纯原生 JS 实现

## 🎯 支持的页面

- `https://i.mi.com/note/*`
- `https://i.mi.com/note/h5*`

## ⚠️ 注意事项

1. 本扩展仅在小米便签官方网站生效
2. 首次使用需要刷新页面才能看到效果
3. 设置保存在浏览器本地，更换浏览器或设备需重新配置
4. 不会收集任何用户数据，所有数据均存储在本地

## 📝 更新日志

### v1.0 (初始版本)
- ✅ 实现悬浮设置按钮
- ✅ 支持隐藏全部笔记和未分类文件夹
- ✅ 自动打开"b-有用暂存"文件夹
- ✅ 设置持久化存储

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License

## 👨‍💻 开发者

如需二次开发，请参考以下信息：

### 主要函数说明

- `initFunc()`: 程序入口，初始化扩展
- `createFloatingButton()`: 创建悬浮设置按钮
- `toggleSettingsPanel()`: 显示/隐藏设置面板
- `saveSettings()`: 保存设置到存储
- `loadSettings()`: 从存储加载设置
- `applyHideFolderSettings()`: 应用隐藏文件夹设置
- `applyHideUnclassifiedSettings()`: 应用隐藏未分类设置
- `getUsefulTempFolder()`: 自动打开"b-有用暂存"文件夹

### 默认配置

```javascript
const defaultSettings = {
  darkMode: false,
  hideAllFolder: true,
  hideUnclassified: true
};
```

## 📧 反馈与支持

如有问题或建议，欢迎通过 Issue 反馈。

---

**享受更高效的笔记管理体验！** 📝✨
